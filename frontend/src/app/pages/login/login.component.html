<!-- frontend/src/app/pages/login/login.component.html -->
<div class="flex min-h-screen items-center justify-center bg-gray-50 p-4">
  <div class="w-full max-w-md bg-white shadow rounded-lg overflow-hidden">
    <div class="px-6 py-4">
      <h2 class="text-2xl font-bold mb-1">Login</h2>
      <p class="text-gray-600 mb-4">Enter your credentials to access your account</p>

      <form (ngSubmit)="onSubmit()" #loginForm="ngForm">
        <!-- Email -->
        <div class="mb-4">
          <label for="email" class="block text-sm font-medium mb-1">Email</label>
          <input
            id="email"
            name="email"
            type="email"
            [(ngModel)]="form.email"
            required
            class="w-full border px-3 py-2 rounded"
          />
          <div *ngIf="submitted && !form.email" class="text-red-500 text-sm mt-1">
            Email is required
          </div>
        </div>

        <!-- Password -->
        <div class="mb-4 relative">
          <label
            for="password"
            class="block text-sm font-medium mb-1 flex justify-between"
          >
            <span>Password</span>
            <a
              routerLink="/forgot-password"
              class="text-xs text-blue-600 hover:underline"
            >
              Forgot password?
            </a>
          </label>
          <input
            id="password"
            name="password"
            [type]="showPassword ? 'text' : 'password'"
            [(ngModel)]="form.password"
            required
            class="w-full border px-3 py-2 rounded pr-10"
          />
          <button
            type="button"
            class="absolute right-2 top-2"
            (click)="showPassword = !showPassword"
          >
            <lucide-icon [name]="showPassword ? 'eyeOff' : 'eye'"
                         class="h-5 w-5 text-gray-500"></lucide-icon>
          </button>
          <div *ngIf="submitted && !form.password" class="text-red-500 text-sm mt-1">
            Password is required
          </div>
        </div>

        <button
          type="submit"
          class="w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition"
        >
          Login
        </button>

        <!-- Show server‐side or client‐side errors here -->
        <div *ngIf="errorMessage" class="mt-2 text-red-500 text-sm">
          {{ errorMessage }}
        </div>
      </form>

      <p class="mt-4 text-center text-sm text-gray-600">
        Don’t have an account?
        <a routerLink="/register" class="text-blue-600 hover:underline">
          Sign up
        </a>
      </p>
    </div>
  </div>
</div>
